{
  "name": "spec-quality-check",
  "version": "0.1.0",
  "description": "Validates KCv2.0 spec files for mandatory sections and highlights gaps.",
  "parameters": [
    {"name": "node_id", "type": "string", "required": true}
  ],
  "actions": [
    {
      "type": "python",
      "code": "from pathlib import Path\nnode_id = inputs['node_id']\npath = Path('knowzcode/specs') / f'{node_id}.md'\nif not path.exists():\n    raise FileNotFoundError(f'Spec for {node_id} not found')\ntext = path.read_text()\nmissing = [section for section in ['## 1. Purpose', '## 2. Dependencies & Triggers', '## 3. Interfaces', '## 4. Core Logic & Processing Steps', '## 5. Data Structures', '## 6. ARC Verification Criteria', '## 7. Technical Debt'] if section not in text]\noutputs['missing_sections'] = missing\n"
    }
  ]
}
