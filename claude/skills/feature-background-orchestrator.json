{
  "name": "feature-background-orchestrator",
  "version": "0.1.0",
  "description": "Logs orchestrator engagement for new feature work and seeds planning notes.",
  "parameters": [
    {"name": "primary_goal", "type": "string", "required": true},
    {"name": "workgroup_id", "type": "string", "required": true}
  ],
  "actions": [
    {
      "type": "python",
      "code": "from pathlib import Path\ngoal = inputs['primary_goal'].strip()\nwg = inputs['workgroup_id']\nplanning_dir = Path('knowzcode/planning')\nplanning_dir.mkdir(parents=True, exist_ok=True)\npath = planning_dir / 'feature_orchestrator_queue.md'\nheader = '# Feature Orchestrator Background Tasks\\n\\n'\ncontent = f'## {wg}\\n- KnowzCode: Orchestrate feature setup for `{goal}` using KCv2.0 workflow.\\n'\nif path.exists():\n    text = path.read_text()\n    if f'## {wg}' not in text:\n        path.write_text(text.rstrip() + '\\n\\n' + content)\nelse:\n    path.write_text(header + content)\noutputs['message'] = f'Queued orchestrator background guidance for {wg}'"
    }
  ]
}
